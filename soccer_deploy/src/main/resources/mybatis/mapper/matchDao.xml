<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="soccer.deploy.match.myDao.matchDao">
	
	<!-- <resultMap type="soccer.deploy.match.myDto.matchMyDto" id="matchMap">
		<id property="match_id" column="match_id"></id>
		<result property="match_date" column="match_date"/>
		<result property="opteam" column="opteam"/>
		<result property="match_regdate" column="match_regdate"/>
		<result property="match_img_type" column="match_img_type"/>
		<result property="match_img_name" column="match_img_name"/>
		<result property="match_place" column="match_place"/>
		<result property="user_id" column="user_id"/>
	</resultMap> -->

	<select id="list" resultType="soccer.deploy.match.myDto.matchMyDto">
		SELECT match_id id,	
			match_date	matchDate,
			opteam opteam,
			match_regdate	matchRegdate,
			match_img_type	matchImgType,
			match_img_name	matchImgName,
			match_place	matchPlace,
			user_id userId	 
			FROM match
	</select>
		<!-- 경기목록조회 -->
	<insert id="matchRegist" parameterType="soccer.deploy.match.myDto.matchMyDto">
		  INSERT into match(
		 										 match_id,match_date,opteam,match_img_type,match_img_name,match_place,user_id)
      VALUES(
      				match_seq.NEXTVAL,
      				#{matchDate},
      				#{opteam},
      				#{matchImgType},
      				#{matchImgName},
      				#{matchPlace},
   					 	#{userId}
   										 	)
	</insert>
	<!-- 수정 -->
	<update id="matchUpdate" parameterType="soccer.deploy.match.myDto.matchMyDto">
	  		UPDATE match
  			SET match_date = #{matchDate}, opteam = #{opteam}, match_regdate = #{matchRegdate},  match_img_type = #{matchImgType}, match_img_name = #{matchImgName}, match_place = #{matchPlace},user_id = #{userId}
  		  WHERE match_id = #{matchId}
	
	</update>
	<!-- 삭제 -->
	<delete id="matchDelete" parameterType="string">
			 DELETE FROM match 
			 WHERE match_id = #{matchId}
	</delete>
	<!-- 경기 아이디로조회 -->
	<select id="selectMatch" parameterType="string" resultType="soccer.deploy.match.myDto.matchMyDto">
        SELECT * FROM match WHERE match_id = #{matchId}
  </select>
    
</mapper>